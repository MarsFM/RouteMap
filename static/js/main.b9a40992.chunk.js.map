{"version":3,"sources":["components/app/app.module.css","components/routeItem/routeItem.module.css","components/map/map.module.css","components/field/field.module.css","reducers/map-reducers.js","utils/geocode.js","components/map/mapContainer.js","components/map/index.js","components/routeItem/routeItem.js","components/routeItem/routeItemContainer.js","components/routeList/routeList.js","components/routeList/routeListContainer.js","components/routeList/index.js","components/field/field.js","components/field/fieldContainer.js","components/field/index.js","components/error/ErrorBoundary.js","components/loader/loader.js","components/loader/index.js","components/app/app.js","components/app/appContainer.js","store.js","index.js"],"names":["module","exports","initialState","points","place","center","ymaps","isLoading","mapReducer","state","action","type","point","slice","idx","arrayMove","oldIndex","newIndex","payload","Geocode","this","geocode","result","then","res","firstGeoObject","geoObjects","get","undefined","Error","coords","geometry","getCoordinates","Promise","resolve","address","getAddressLine","catch","err","console","log","MapContainer","addYmaps","props","changeCoords","id","findIndexPoints","name","updateCoordsFromPoint","findIndex","setAddresFromNewCoords","getPlace","map","className","styles","query","apikey","modules","onLoad","map__yandex","zoom","centering","key","options","useMapMarginInDragging","draggable","properties","hintContent","onDrag","e","onDragEnd","balloonCloseButton","strokeColor","strokeWidth","Component","mapDispatchToProps","finishLoading","connect","RouteItem","style","routeItem","routeItem__item","onClick","deletePoint","routeItem__btn","RouteItemContainer","findPointId","SortableItem","sortableElement","SortableContainer","sortableContainer","children","RouteList","pressDelay","lockAxis","onSortEnd","updatePositionPoints","index","RouteListContainer","updateIndexPoints","withStyles","textField","borderColor","color","fontSize","classes","field","TextField","onChange","changePlace","onKeyDown","addPoint","value","label","field__input","margin","variant","rowsMax","FieldContainer","event","target","addCenterMap","getCoords","length","ErrorBoundary","error","errorInfo","setState","whiteSpace","toString","componentStack","useStyles","makeStyles","theme","progress","spacing","Loader","CircularProgress","App","app","app__wrapper","app__left","app__right","AppConatiner","reducers","combineReducers","store","createStore","applyMiddleware","thunk","window","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b9a40992.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__M9MMq\",\"app__wrapper\":\"app_app__wrapper__1fJij\",\"app__left\":\"app_app__left__l6XVW\",\"app__right\":\"app_app__right__FcpSI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"routeItem\":\"routeItem_routeItem__3-Chd\",\"routeItem__item\":\"routeItem_routeItem__item__3BPSQ\",\"routeItem__btn\":\"routeItem_routeItem__btn__fcYh-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"map\":\"map_map__1cjP6\",\"map__yandex\":\"map_map__yandex__23L1h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field__input\":\"field_field__input__11m3y\"};","import arrayMove from 'array-move';\n\nconst ADD_POINT = 'ADD_POINT';\nconst DELETE_POINT = 'DELETE_POINT';\nconst CHANGE_PLACE = 'CHANGE_PLACE';\nconst ADD_YMAPS = 'ADD_YMAPS';\nconst ADD_CENTER_MAP = 'ADD_CENTER_MAP';\nconst UPDATE_POINT = 'UPDATE_POINT';\nconst UPADTE_INDEX_POINTS = 'UPADTE_POSITION_POINTS';\nconst FINISH_LOADING = 'FINISH_LOADING';\n\nconst initialState = {\n  points: [],\n  place: '',\n  center: [55.760241, 37.611347],\n  ymaps: null,\n  isLoading: true\n}\n\nconst mapReducer = (state=initialState, action) => {\n  switch (action.type) {\n    case ADD_POINT:\n      return {\n        ...state,\n        points: [...state.points, action.point],\n        place: ''\n      }\n\n    case DELETE_POINT: \n      return {\n        ...state,\n        points: [\n          ...state.points.slice(0, action.idx), \n          ...state.points.slice(action.idx + 1)\n        ]\n      }\n\n    case UPDATE_POINT: \n      return {\n        ...state,\n        points: [\n          ...state.points.slice(0, action.idx),\n          action.point,\n          ...state.points.slice(action.idx + 1),\n        ]\n      }\n\n    case CHANGE_PLACE: \n      return {\n        ...state,\n        place: action.place\n      }\n    \n    case ADD_YMAPS: \n      return {\n        ...state,\n        ymaps: action.ymaps\n      }\n    \n    case ADD_CENTER_MAP: \n      return {\n        ...state,\n        center: action.center\n      }\n\n    case UPADTE_INDEX_POINTS:\n      return {\n        ...state,\n        points: arrayMove(state.points, action.oldIndex, action.newIndex),\n      }\n    \n    case FINISH_LOADING: \n      return {\n        ...state,\n        isLoading: action.payload\n      }\n\n    default: \n      return {\n        ...state\n      }\n  }\n}\n\nexport const addPoint = (point) => {\n  return {\n    type: ADD_POINT,\n    point\n  }\n}\n\nexport const deletePoint = (idx) => {\n  return {\n    type: DELETE_POINT,\n    idx\n  }\n}\n\nexport const changePlace = (place) => {\n  return {\n    type: CHANGE_PLACE,\n    place\n  }\n}\n\nexport const addYmaps = (ymaps) => {\n  return {\n    type: ADD_YMAPS,\n    ymaps\n  }\n}\n\nexport const addCenterMap = (center) => {\n  return {\n    type: ADD_CENTER_MAP,\n    center\n  }\n}\n\nexport const updateCoordsFromPoint = (point, idx) => {\n  return {\n    type: UPDATE_POINT,\n    point,\n    idx,\n  }\n}\n\nexport const updateIndexPoints = (oldIndex, newIndex) => {\n  return {\n    type: UPADTE_INDEX_POINTS,\n    oldIndex,\n    newIndex\n  }\n}\n\nexport const finishLoading = (payload) => {\n  return {\n    type: FINISH_LOADING,\n    payload\n  }\n}\n\nexport default mapReducer;","class Geocode {\n\n  constructor(ymaps) {\n    this.ymaps = ymaps;\n  }\n  \n  getCoords(place) {\n    return this.ymaps.geocode(place, {result: 1})\n              .then(res => {\n                const firstGeoObject = res.geoObjects.get(0);\n                if (firstGeoObject === undefined) {\n                  throw new Error('Такого города нет');\n                }\n\n                const coords = firstGeoObject.geometry.getCoordinates();\n                return new Promise(resolve => {\n                  resolve(coords);\n                });\n              });\n  }\n\n\n  getPlace(coords) {\n    return this.ymaps.geocode(coords)\n            .then(res => {\n              const firstGeoObject = res.geoObjects.get(0);\n              const address = firstGeoObject.getAddressLine();\n              return new Promise(resolve => {\n                resolve(address);\n              })\n            })\n            .catch(err => {\n              console.log(err);\n            })\n  }\n  \n}\n\nexport default Geocode;","import React, { Component } from 'react';\nimport {connect} from 'react-redux';\nimport { YMaps, Map, Placemark, Polyline} from 'react-yandex-maps';\n\nimport { addYmaps, updateCoordsFromPoint, finishLoading } from '../../reducers/map-reducers';\nimport styles from './map.module.css';\nimport Geocode from '../../utils/geocode';\n\nclass MapContainer extends Component {\n\n  addYmaps = (ymaps) => {\n    const { addYmaps } = this.props;\n    addYmaps(ymaps);\n  }\n\n  changeCoords = (coords, id) => {\n    const idx = this.findIndexPoints(id);\n    const point = {\n      id,\n      name: this.props.points[idx].name,\n      coords\n    };\n\n    this.props.updateCoordsFromPoint(point, idx);\n  }\n\n  findIndexPoints = (id) => {\n    const idx = this.props.points.findIndex(point => point.id === id);\n    return idx;\n  } \n\n  setAddresFromNewCoords = (coords, id) => {\n    const { ymaps } = this.props;\n    const idx = this.findIndexPoints(id);\n    const geo = new Geocode(ymaps);\n    geo.getPlace(coords)\n        .then(name => {\n          let point = {\n            id,\n            name,\n            coords\n          }\n\n          this.props.updateCoordsFromPoint(point, idx);\n        });\n  }\n\n  render() {\n    const { center, points } = this.props;\n    const zoom = 16;\n\n    const coords = points.map(point => {\n      return point.coords;\n    })\n\n    return ( \n      <div className={styles.map}>\n        <YMaps query={{apikey: '07567630-aebc-488f-8859-7e04013684d6'}}>\n          <div> \n            <Map \n              modules={['geocode']}\n              onLoad={this.addYmaps}\n              className={styles.map__yandex} \n              state={{ center, zoom, centering: true}} \n              \n            >\n              {\n                points.map((point) => {\n                  return <Placemark \n                            id={point.id}\n                            key={point.id} \n                            options={{useMapMarginInDragging: true, draggable: true}}\n                            geometry={point.coords} \n                            modules={['geoObject.addon.balloon', 'geoObject.addon.hint']}\n                            properties={{ hintContent: `${point.name}` }}\n                            onDrag={(e) => {\n                              let coords = e.get('target').geometry.getCoordinates();\n                              this.changeCoords(coords, point.id);\n                            }}\n                            onDragEnd = {(e) => {\n                              let coords = e.get('target').geometry.getCoordinates();\n                              this.setAddresFromNewCoords(coords, point.id);\n                            }}\n                          />\n                })\n              }\n\n              <Polyline\n                  geometry={coords}\n                  options={{\n                  balloonCloseButton: false,\n                  strokeColor: '#911',\n                    strokeWidth: 2,\n                  }}\n              />\n\n            </Map>\n          </div>\n        </YMaps>\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    points: state.map.points,\n    center: state.map.center,\n    ymaps: state.map.ymaps,\n  }\n}\n\nconst mapDispatchToProps = {\n  addYmaps,\n  updateCoordsFromPoint,\n  finishLoading\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MapContainer);","import MapContainer from './mapContainer'\n\nexport default MapContainer;","import React from 'react';\n\nimport style from './routeItem.module.css';\n\nconst RouteItem = (props) => {\n\n  return (\n    <div onDragEnd={(e) => {console.log(e)}} className={style.routeItem}>\n      <div className={style.routeItem__item} >{props.name}</div>\n      <div onClick={props.deletePoint} className={style.routeItem__btn} >X</div>\n    </div>\n  )\n\n}\n\nexport default RouteItem;","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\n\nimport RouteItem from './routeItem';\n\nimport { deletePoint } from '../../reducers/map-reducers';\n\nclass RouteItemContainer extends Component {\n\n  deletePoint = () => {\n    const idx = this.findPointId();\n    this.props.deletePoint(idx);\n  }\n\n  findPointId = () => {\n    const { points, id } = this.props;\n    const idx = points.findIndex((point) => point.id === id);\n    return idx;\n  }\n\n  render() {\n    return  <RouteItem \n              deletePoint={this.deletePoint} \n              name={this.props.name} \n            />\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    points: state.map.points,\n  }\n}\n\nconst mapDispatchToProps = {\n  deletePoint\n}\n\nexport default connect(\n  mapStateToProps, \n  mapDispatchToProps\n)(RouteItemContainer);","import React from 'react';\nimport {sortableContainer, sortableElement} from 'react-sortable-hoc';\n\nimport RouteItemContainer from '../routeItem/routeItemContainer';\n\nconst SortableItem = sortableElement(({point}) => <RouteItemContainer \n                                          id={point.id} \n                                          name={point.name} />\n                                    );\n\nconst SortableContainer = sortableContainer(({children}) => {\n  return <div>{children}</div>;\n});\n\nconst RouteList = (props) => {\n\n  const onSortEnd = ({oldIndex, newIndex}) => {\n    props.updatePositionPoints(oldIndex, newIndex)\n  };\n\n  return (\n    <SortableContainer pressDelay={150} lockAxis={'y'} onSortEnd={onSortEnd}>\n      {\n        props.points.map((point, index) => {\n          return <SortableItem  key={point.id} index={index} point={point}/>\n        })\n      }\n    </SortableContainer>\n  )\n}\n\nexport default RouteList;","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { updateIndexPoints } from '../../reducers/map-reducers';\n\nimport RouteList from './routeList';\n\n\nclass RouteListContainer extends Component {\n\n  updatePositionPoints = (oldIndex, newIndex) => {\n    this.props.updateIndexPoints(oldIndex, newIndex);\n  }\n\n  render() {\n    return <RouteList \n              updatePositionPoints={this.updatePositionPoints} \n              points={this.props.points} />\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    points: state.map.points\n  }\n}\n\nconst mapDispatchToProps = {\n  updateIndexPoints\n}\n\nexport default connect(\n  mapStateToProps, \n  mapDispatchToProps\n)(RouteListContainer);","import RouteListContainer from './routeListContainer';\n\nexport default RouteListContainer;","import React from 'react';\n\nimport TextField from '@material-ui/core/TextField';\n\nimport styles from './field.module.css';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nconst stylesUI = { \n  textField: {\n    '& fieldset': {\n      borderColor: '#ffffff',\n    },\n    '& input': {\n      color: '#ffffff',\n      fontSize: '12px',\n    },\n    '& label' : {\n      color: '#ffffff',\n      fontSize: '12px',\n    },\n    '& label.Mui-focused': {\n      color: '#ffffff',\n    },\n  }\n}\n\nconst Field = (props) => {\n  const {classes} = props;\n\n  return (\n    <div className={styles.field}>\n      <TextField\n        onChange={props.changePlace}\n        onKeyDown={props.addPoint}\n        value={props.place}\n        label=\"Введите место\"\n        className={`${classes.textField} ${styles.field__input}`}\n        margin=\"dense\"\n        variant=\"outlined\"\n        rowsMax=\"4\"\n      />\n    </div>\n  )\n}\n\nexport default withStyles(stylesUI)(Field);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport {addPoint, changePlace, addCenterMap } from '../../reducers/map-reducers';\n\nimport Field from './field';\nimport Geocode from '../../utils/geocode';\n\nclass FieldContainer extends Component {\n\n  changePlace = (event) => {\n    let place = event.target.value;\n    this.props.changePlace(place);\n  }\n\n  addPoint = (e) => {\n    if (e.key !== 'Enter') {\n      return;\n    }\n\n    let {place, ymaps, addCenterMap} = this.props;\n\n    const geocode = new Geocode(ymaps);\n    \n    if (place) {\n      geocode.getCoords(place)\n      .then(coords => {\n        this.props.addPoint({\n          id: this.props.points.length + 1,\n          name: place,\n          coords\n        });\n        \n        addCenterMap(coords);\n      });\n    }\n\n  }\n\n  render() {\n    return <Field \n            changePlace={this.changePlace} \n            addPoint={this.addPoint} \n            place={this.props.place}\n          />\n  }\n\n} \n\nconst mapStateToProps = (state) => {\n  return {\n    points: state.map.points,\n    place: state.map.place,\n    ymaps: state.map.ymaps,\n    center: state.map.center\n  }\n}\n\nconst mapDispatchToProps = {\n  addPoint,\n  changePlace,\n  addCenterMap\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(FieldContainer);","import FieldContainer from './fieldContainer';\n\nexport default FieldContainer;","import React, { Component } from 'react'\n\nclass ErrorBoundary extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { \n      error: null, \n      errorInfo: null }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({\n      error: error,\n      errorInfo: errorInfo\n    })  \n  }\n\n  render() {\n    if (this.state.errorInfo) {\n      return (\n        <div>\n          <h2>Что-то пошло не так.</h2>\n          <details style={{ whiteSpace: 'pre-wrap' }}>\n            {this.state.error && this.state.error.toString()}\n            <br />\n            {this.state.errorInfo.componentStack}\n          </details>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  } \n\n\n}\n\nexport default ErrorBoundary;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles(theme => ({\n  progress: {\n    margin: theme.spacing(2),\n  },\n}));\n\nconst Loader = props => {\n\n  const classes = useStyles();\n\n  return (\n    <div>\n      <CircularProgress className={classes.progress} />\n    </div>\n  )\n\n}\n\nexport default Loader;","import Loader from './loader';\n\nexport default Loader;","import React from 'react';\nimport MapContainer from '../map';\nimport RouteListContainer from '../routeList';\n\nimport style from './app.module.css'\nimport FieldContainer from '../field';\nimport ErrorBoundary from '../error/ErrorBoundary';\nimport Loader from '../loader';\n\nconst App = (props) => {\n  const { isLoading } = props;\n\n  return (\n    <div className={style.app}>\n      <div className={style.app__wrapper}>\n        {isLoading ? \n          <ErrorBoundary>\n            <div className={style.app__left} >\n              <FieldContainer />\n              <RouteListContainer />\n            </div>\n            <div className={style.app__right}>\n              <MapContainer  />\n            </div>\n          </ErrorBoundary>\n          :\n          <Loader />\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\n\nimport App from './app';\n\nclass AppConatiner extends Component {\n\n  render() {\n    return <App {...this.props} />\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isLoading: state.map.isLoading\n  }\n}\n\nconst mapDispatchToProps = {}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppConatiner);","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk';\nimport mapReducer from './reducers/map-reducers';\n\nconst reducers = combineReducers({\n  map: mapReducer\n})\nconst store = createStore(reducers, applyMiddleware(thunk));\n\nwindow.store = store;\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\n\nimport AppContainer from './components/app/appContainer';\nimport store from './store';\n\nimport './index.module.css';\n\nReactDOM.render(\n<Provider store={store}>\n  <AppContainer />\n</Provider>,\n document.getElementById('root'));\n"],"sourceRoot":""}